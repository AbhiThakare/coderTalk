<ion-view style="" class=" " id="page2" title="BROADCAST">
	<ion-nav-buttons side="right">
        <button class="button icon-left ion-android-search button-stable" ng-click="search()"></button>
        <button class="button icon-left ion-android-refresh button-stable" ng-click="refresh()"></button>
        <a ui-sref="addNewItem">
            <button class="button icon-left ion-ios-plus-outline button-stable" ng-click="" id="searchUser-button15"></button>
        </a>
    	<button class="button icon-left ion-log-out button-stable" ng-click="logout()"></button>
  	</ion-nav-buttons>
    <ion-content class="has-header" padding="true">
    	<ion-refresher on-refresh="refresh()"></ion-refresher>
        <div class="scroll" style="transform: translate3d(0px, 0px, 0px) scale(1);" ng-show='broadcastDatas!==undefined'>
            <div class="list card animated bounceInUp" ng-repeat="broadcastData in broadcastDatas">
                <div class="item item-thumbnail-left item-avatar">
                    <img ng-src="../www/img/user.png" src="../www/img/user.png">
                    <p class="ng-binding">{{broadcastData.date | date:'dd/MM/yyyy @ h:mma'}}</p>
                    <h2 class="ng-binding">{{broadcastData.title}}</h2>
                    <p class="ng-binding">{{broadcastData.author}}</p>
                </div>
                <div class="item item-body">  
                    <p class="ng-binding">
                        {{broadcastData.message}}
                    </p>
                </div>
                <div class="item tabs tabs-secondary tabs-icon-left">
                    <a class="tab-item" ng-class="{ 'activated'   : broadcastData.likes > 0 }" ng-click="like(broadcastData.uuid)">
                        <i class="icon ion-thumbsup"></i>
                        Like {{broadcastData.likes}}
                    </a>
                    <a class="tab-item" ng-click="addComment(broadcastData,'broadcast')">
                        <i class="icon ion-chatbox"></i>
                        Reply
                    </a>
                </div>
                <div class="list card"  ng-show='broadcastData.threadId===undefined'">
                	<ion-item  class="item-stable"><span>No Comments Yet</span></ion-item>
                </div>
                <div class="list card"  ng-show='broadcastData.threadId!==undefined' ng-click="(!isGroupShown(broadcastData.threadId)) ? getComment(broadcastData.threadId) : toggle(broadcastData.threadId)">
                	<ion-item  class="item-stable">
		              <i class="icon" ng-class="isGroupShown(broadcastData.threadId) ? 'ion-minus' : 'ion-plus'"></i> 
		              <span>Comments</span>
		          	</ion-item>
					<div class="item item-body item-accordion" ng-show='isGroupShown(broadcastData.threadId) && commentsDatas!==undefined && broadcastData.threadId === comments.threadId' ng-repeat="comments in commentsDatas" >  
					   <p class="ng-binding">
					        {{comments.message}} <br> By - {{comments.author}}
					   </p>
					</div>
		        </div>
            </div>
        </div>
        <div class="scroll-bar scroll-bar-v"><div class="scroll-bar-indicator scroll-bar-fade-out" style="height: 0px; transform: translate3d(0px, 0px, 0px) scaleY(1);"></div>
        </div>
       <ion-list class=" " id="profile-list4" ng-show='broadcastDatas===undefined'>
            <ion-item style="" id="profile-list-item12" class="item-icon-left  ">
                <i class="icon ion-android-alert"></i>Nothing to display
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>

<script>
    Waves.displayEffect();
    setTimeout(function() {
        Mi.motion.pushDown({
            selector: '.push-down'
        });
        Mi.motion.fadeSlideInRight({
            selector: '.animate-fade-slide-in > *'
        });
    }, 500);
    </script>